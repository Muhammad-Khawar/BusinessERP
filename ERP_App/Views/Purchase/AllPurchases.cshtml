@model IEnumerable<ERP_App.Models.PrintPurchaseInvoiceMV>


<div class="content-heading" style="text-align:center">Purchase Orders</div>
<table class="table table-striped table-hover w-100" id="datatable1">
    <thead>
        <tr>
            <th style="width:80px;">
                <strong>ORDER ID</strong>
            </th>
            <th>
                <strong>PURCHASED ON</strong>
            </th>
            <th>
                <strong>CLIENT NAME</strong>
            </th>
            <th>
                <strong>SUB AMOUNT</strong>
            </th>
            <th>
                <strong>ESTIMATED TAX</strong>
            </th>
            <th>
                <strong>SHIPMENT</strong>
            </th>
            <th>
                <strong>TOTAL AMOUNT</strong>
            </th>
            <th>
                <strong>PAID AMOUNT</strong>
            </th>
            <th class="text-center">
                <strong>STATUS</strong>
            </th>
            <th class="text-center">
                <strong>DETAIL</strong>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td>@item.InvoiceHeader.InvoiceNo</td>
            <td>@item.InvoiceHeader.InvoiceDate.ToString("dd//mm/yyyy")</td>
            <td>@item.supplier.SupplierName</td>
            <td>@item.InvoiceHeader.SubTotalAmount</td>
            <td>@item.InvoiceHeader.EstimatedTax</td>
            <td>@item.InvoiceHeader.ShippingFee</td>
            <td>@item.InvoiceHeader.TotalAmount</td>
            <td>@item.PaidAmount</td>
            <td class="text-center">
                @{
                    if (item.InvoiceHeader.TotalAmount == item.PaidAmount)
                    {
                        <span class="badge badge-success">Clear</span>
                    }
                    else if (item.PaidAmount == 0)
                    {
                        <span class="badge badge-danger">Payment Pending</span>
                    }
                    else if (item.InvoiceHeader.TotalAmount > item.PaidAmount)
                    {
                        <span class="badge badge-warning">In Progress</span>
                    }
                    else
                    {
                        <span class="badge badge-danger">Stop</span>
                    }
                }

            </td>
            <td class="text-center">
                <a href="@Url.Content("~/Purchase/PrintPurchaseInvoice?supplierinvoiceid="+item.InvoiceHeader.SupplierInvoiceID)" class="btn btn-sm btn-secondary" type="button">
                    <em class="fa fa-search"></em>
                </a>
            </td>
        </tr>
        }
    </tbody>
</table>